(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AdmConfig"],{1666:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("SY_TEMP6 Table")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{staticClass:"mb-2 mr-2",attrs:{color:"primary",dark:""},on:{click:e.fetchData}},[e._v("Search")]),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",r,!1),n),[e._v("New Item")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"일련번호"},model:{value:e.editedItem.S_SER,callback:function(t){e.$set(e.editedItem,"S_SER",t)},expression:"editedItem.S_SER"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"COL 1"},model:{value:e.editedItem.VAL1,callback:function(t){e.$set(e.editedItem,"VAL1",t)},expression:"editedItem.VAL1"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"COL 2"},model:{value:e.editedItem.VAL2,callback:function(t){e.$set(e.editedItem,"VAL2",t)},expression:"editedItem.VAL2"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"COL 3"},model:{value:e.editedItem.VAL3,callback:function(t){e.$set(e.editedItem,"VAL3",t)},expression:"editedItem.VAL3"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"COL 4"},model:{value:e.editedItem.VAL4,callback:function(t){e.$set(e.editedItem,"VAL4",t)},expression:"editedItem.VAL4"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("취소")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("저장")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("삭제 합니다....?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("아니오")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("예")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}}],null,!0)})},r=[],i=a("1da1"),s=a("5530"),o=(a("a434"),a("96cf"),a("2f62")),l={name:"ListTable",title:"ListTable Page",data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"일련번호",align:"start",sortable:!1,value:"S_SER"},{text:"COL 1",value:"VAL1"},{text:"COL 2",value:"VAL2"},{text:"COL 3",value:"VAL3"},{number:"COL 4",value:"VAL4"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{S_SER:"",VAL1:"",VAL2:"",VAL3:"",VAL4:0},defaultItem:{S_SER:"",VAL1:"",VAL2:"",VAL3:"",VAL4:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},mounted:function(){},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["syTable6Save","syTable6Updtae"])),{},{initialize:function(){this.desserts=[]},fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/goodman/sytemp6");case 2:e.desserts=t.sent;case 3:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.$axios.delete("/api/goodman/".concat(this.editedItem.S_SER));this.desserts.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1){this.syTable6Updtae(this.editedItem);Object.assign(this.desserts[this.editedIndex],this.editedItem)}else{var e=this.syTable6Save(this.editedItem);e&&this.desserts.push(this.editedItem)}this.close()}})},c=l,u=a("2877"),d=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=d.exports},5027:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-toolbar",[a("v-toolbar-title",[e._v("설정관리")]),a("v-spacer"),a("tooltip-btn",{attrs:{fab:"",small:"",label:"설정추가"},on:{click:e.addConfig}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-row",[a("v-col",[a("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},e._l(e.groupItems,(function(t){return a("v-tab",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),a("draggable",{staticClass:"config-list-group",attrs:{tag:"ul",list:e.curItems,handle:".handle"},on:{end:e.sortEnd}},e._l(e.curItems,(function(t){return a("config-item",{key:t.cf_key,staticClass:"list-group-item",attrs:{item:t},on:{update:e.updateConfig,remove:e.removeConfig}})})),1),a("ez-dialog",{ref:"dialog",attrs:{label:"설정 추가","max-width":"500",dark:"",color:"primary",persistent:""}},[a("config-form",{attrs:{keyCheck:e.keyCheck,item:e.item,groupItems:e.groupItems},on:{save:e.save}})],1)],1)},r=[],i=a("1da1"),s=a("5530"),o=a("2909"),l=(a("96cf"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("a434"),a("4de4"),a("2f62")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",e._b({model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},"v-dialog",e.$attrs,!1),[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[e._v(e._s(e.label))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",[e._t("default")],2)],1)],1)},u=[],d={name:"ezDialog",props:{label:{type:String,required:!0}},data:function(){return{dialog:!1}},methods:{close:function(){this.dialog=!1},open:function(){this.dialog=!0}}},f=d,m=a("2877"),v=Object(m["a"])(f,c,u,!1,null,null,null),p=v.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({on:{click:function(t){return e.$emit("click")}}},"v-btn",Object.assign({},r,e.$attrs),!1),n),[e._t("default")],2)]}}],null,!0)},[a("span",[e._v(e._s(e.label))])])},b=[],h={name:"TooltipBtn",props:{label:{type:String,required:!0}}},g=h,x=Object(m["a"])(g,_,b,!1,null,null,null),y=x.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-combobox",{attrs:{items:e.groupItems,label:"그룹",rules:[e.rules.require({label:"그룹"})]},model:{value:e.form.cf_group,callback:function(t){e.$set(e.form,"cf_group",t)},expression:"form.cf_group"}}),a("div",{staticClass:"d-flex"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("span",e._g(e._b({staticClass:"mr-2"},"span",r,!1),n),[a("v-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.form.cf_client,callback:function(t){e.$set(e.form,"cf_client",t)},expression:"form.cf_client"}})],1)]}}])},[a("span",[e._v("클라이언트")])]),a("input-duplicate-check",{ref:"cfKey",attrs:{label:"키",cbCheck:e.keyCheck,origin:e.originKey,readonly:!!e.item,rules:[e.rules.require({label:"키"}),e.rules.alphaNum()]},model:{value:e.form.cf_key,callback:function(t){e.$set(e.form,"cf_key",t)},expression:"form.cf_key"}})],1),a("v-text-field",{attrs:{label:"이름",rules:e.rules.name()},model:{value:e.form.cf_name,callback:function(t){e.$set(e.form,"cf_name",t)},expression:"form.cf_name"}}),a("v-select",{attrs:{label:"값 타입",items:e.typeItems},model:{value:e.form.cf_type,callback:function(t){e.$set(e.form,"cf_type",t)},expression:"form.cf_type"}}),a("type-value",{attrs:{fieldType:e.form.cf_type},model:{value:e.form.cf_val,callback:function(t){e.$set(e.form,"cf_val",t)},expression:"form.cf_val"}}),a("v-slider",{attrs:{label:"접근레벨 ("+e.form.cf_level+")",min:e.LV.ADMIN,max:e.LV.SUPER,"thumb-color":"primary","thumb-label":""},model:{value:e.form.cf_level,callback:function(t){e.$set(e.form,"cf_level",t)},expression:"form.cf_level"}}),a("v-textarea",{attrs:{label:"설명"},model:{value:e.form.cf_comment,callback:function(t){e.$set(e.form,"cf_comment",t)},expression:"form.cf_comment"}}),a("v-btn",{attrs:{type:"submit",block:""}},[e._v("저장")])],1)},I=[],O=(a("e9c4"),a("248f")),C=a.n(O),$=a("50d8"),S=a("bb5e"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"String"==e.fieldType?a("div",[a("v-text-field",{attrs:{label:"Value",value:e.value,readonly:e.readonly,"hide-details":e.readonly},on:{input:e.onInput}})],1):"Number"==e.fieldType?a("div",[a("v-text-field",{attrs:{label:"Value",type:"number",value:e.value,readonly:e.readonly,"hide-details":e.readonly},on:{input:e.onInput}})],1):"Json"==e.fieldType?a("div",[e.readonly?[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.dialog.open()}}},[e._v("JSON 보기")]),a("ez-dialog",{ref:"dialog",attrs:{label:"JSON 값 보기",max_width:"500"}},[a("pre",{staticClass:"mt-4"},[e._v(e._s(e.stringify()))])])]:a("v-textarea",{attrs:{label:"Value",value:e.value},on:{input:e.onInput}})],2):"Secret"==e.fieldType?a("div",[a("input-password",{attrs:{label:"Sercet Value",value:e.value,readonly:e.readonly,"hide-details":e.readonly},on:{input:e.onInput}})],1):a("div",[a("div",[e._v("선택한 타입 입력필드가 없습니다.")])])},L=[],V=a("445e"),j=a("ac4f"),T=a.n(j),E={components:{InputPassword:V["a"],EzDialog:p},name:"TypeValue",model:{prop:"value",event:"input"},props:{value:{type:String},fieldType:{type:String,default:"String"},readonly:{type:Boolean,default:!1}},methods:{onInput:function(e){this.$emit("input",e)},stringify:function(){var e=JSON.parse(this.value),t=T()(e,{space:"  "});return t}}},A=E,D=Object(m["a"])(A,w,L,!1,null,null,null),R=D.exports,N=a("64f2"),J={components:{InputDuplicateCheck:$["a"],TypeValue:R},name:"ConfigForm",props:{keyCheck:{type:Function,default:null},groupItems:{type:Array,default:[]},item:{type:Object,default:null}},data:function(){return{valid:!0,form:{cf_key:"",cf_val:"",cf_name:"",cf_group:"",cf_level:"",cf_type:"String",cf_comment:"",cf_client:0},typeItems:["String","Number","Json","Secret"]}},computed:{rules:function(){return C.a},LV:function(){return S["LV"]},originKey:function(){return this.item?this.item.cf_key:""}},watch:{item:function(){this.init()}},created:function(){this.init()},methods:{init:function(){if(this.item){if(this.form=Object(N["deepCopy"])(this.item),"Json"==this.form.cf_type){var e=JSON.parse(this.form.cf_val);this.form.cf_val=T()(e,{space:"  "})}}else this.form={cf_key:"",cf_val:"",cf_name:"",cf_group:"",cf_level:"",cf_type:"String",cf_comment:"",cf_client:0};this.$refs.form&&this.$refs.form.resetValidation()},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.form.validate(),t.next=3,e.$nextTick();case 3:if(e.valid){t.next=5;break}return t.abrupt("return");case 5:if(e.$refs.cfKey.validate()){t.next=7;break}return t.abrupt("return");case 7:e.item||(a=0,n=Object(N["findParentVm"])(e,"AdmConfig"),n.items.forEach((function(t){t.cf_group==e.form.cf_group&&a++})),e.form.cf_sort=a);try{"Json"==e.form.cf_type&&(r=JSON.parse(e.form.cf_val),e.form.cf_val=JSON.stringify(r)),e.$emit("save",e.form),e.init()}catch(i){e.$toast.error("JSON 형식이 올바르지 않습니다.")}case 9:case"end":return t.stop()}}),t)})))()}}},z=J,P=Object(m["a"])(z,k,I,!1,null,null,null),M=P.exports,q=a("b76a"),U=a.n(q),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("v-icon",{staticClass:"handle"},[e._v("mdi-drag")]),a("table",[a("tr",[a("td",[a("b",[e._v(e._s(e.item.cf_name))])]),a("td",[a("pre",{staticClass:"comment",domProps:{innerHTML:e._s(e.item.cf_comment)}})]),a("td",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-avatar",e._g(e._b({attrs:{color:"primary",dark:"",size:"32"}},"v-avatar",r,!1),n),[a("span",{staticClass:"white--text"},[e._v(e._s(e.item.cf_level))])])]}}])},[a("span",[e._v("접근레벨")])])],1),a("td",[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.$emit("update",e.item)}}},[a("v-icon",[e._v("mdi-pencil")])],1)],1)]),a("tr",[a("td",[a("b",[e._v(e._s(e.item.cf_key))])]),a("td",[a("type-value",{attrs:{fieldType:e.item.cf_type,readonly:!0},model:{value:e.item.cf_val,callback:function(t){e.$set(e.item,"cf_val",t)},expression:"item.cf_val"}})],1),a("td",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("div",e._g(e._b({staticClass:"client"},"div",r,!1),n),[a("v-checkbox",{attrs:{readonly:"","hide-details":"",dense:""},model:{value:e.item.cf_client,callback:function(t){e.$set(e.item,"cf_client",t)},expression:"item.cf_client"}})],1)]}}])},[a("span",[e._v("클라이언트 접근")])])],1),a("td",[a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.$emit("remove",e.item)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)])])],1)},W=[],B={components:{TypeValue:R},name:"ConfigItem",props:{item:{type:Object,required:!0}}},F=B,Y=Object(m["a"])(F,K,W,!1,null,null,null),H=Y.exports,G={components:{TooltipBtn:y,EzDialog:p,ConfigForm:M,draggable:U.a,ConfigItem:H},name:"AdmConfig",data:function(){return{items:[],group:-1,curItems:[],item:null}},computed:{groupItems:function(){var e=new Set;return this.items.forEach((function(t){e.add(t.cf_group)})),Object(o["a"])(e)},groupName:function(){return this.groupItems[this.group]||""}},watch:{group:function(){this.setCurItems()}},mounted:function(){this.fetchData()},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["configDuplicate","configSave"])),{},{addConfig:function(){this.item=null,this.$refs.dialog.open()},updateConfig:function(e){this.item=e,this.$refs.dialog.open()},save:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.configSave(e);case 2:n=a.sent,t.item?(t.$toast.info("[".concat(e.cf_name,"] 수정 하였습니다.")),r=t.items.indexOf(t.item),t.items.splice(r,1,n)):(t.$toast.info("[".concat(e.cf_name,"] 추가 하였습니다.")),t.items.push(n)),t.setCurItems(),t.$refs.dialog.close();case 6:case"end":return a.stop()}}),a)})))()},removeConfig:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$ezNotify.confirm("<b>[".concat(e.cf_name,"]</b> 삭제 하시겠습니까?"),"설정항목 삭제",{icon:"mdi-delete",iconColor:"red"});case 2:if(n=a.sent,n){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,t.$axios.delete("/api/config/".concat(e.cf_key));case 7:r=a.sent,r&&(t.$toast.info("[".concat(e.cf_name,"] 삭제 하였습니다.")),i=t.items.indexOf(e),t.items.splice(i,1),t.setCurItems());case 9:case"end":return a.stop()}}),a)})))()},keyCheck:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={field:"cf_key",value:e},a.next=3,t.configDuplicate(n);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/config?all=true");case 2:e.items=t.sent;case 3:case"end":return t.stop()}}),t)})))()},sortEnd:function(){var e=0,t=[];this.curItems.forEach((function(a){a.cf_sort=e++,t.push({cf_key:a.cf_key,cf_sort:a.cf_sort})})),this.$axios.put("/api/config",t)},setCurItems:function(){var e=this;this.curItems=this.items.filter((function(t){return t.cf_group==e.groupName}))}})},Q=G,X=Object(m["a"])(Q,n,r,!1,null,null,null);t["default"]=X.exports},"8c7d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Inser Chk Menu")])])}],i={},s=i,o=a("2877"),l=Object(o["a"])(s,n,r,!1,null,null,null);t["default"]=l.exports},e7ff:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("TestTable Page")]),a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.desserts,"items-per-page":15,"sort-by":["mb_name"],"sort-desc":[!1,!0],"multi-sort":""}})],1)},r=[],i=a("1da1"),s=(a("96cf"),{name:"TesttableView",title:"TestTable Page",data:function(){return{headers:[{text:"시간",value:"D_OPENTIME"},{text:"ID",value:"I_SYSTEM"},{text:"구분",value:"I_WINDOW"},{text:"생일",value:"N_WINDOW"},{text:"이메일",value:"I_USERID"},{text:"연락처",value:"N_USERNM"}],desserts:[]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/api/testtableview");case 2:e.desserts=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}}),o=s,l=a("2877"),c=Object(l["a"])(o,n,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=AdmConfig.aee31ea0.js.map